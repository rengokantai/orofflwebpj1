<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    console.log(window.navigator.onLine);
    var timeConn;
    function startConn(){
        setInterval(function(){
            var conn = new XMLHttpRequest()
            conn.open("HEAD","/favicon.ico");
            conn.addEventListener("load",function(){
                if(conn.status==200){

                }
            });
            conn.addEventListener("error",function(){

            });
            conn.send();
        },1000)
    }
    function stopConn(){
        if(timeConn){
            clearInterval(timeConn);
        }
    }

    window.addEventListener("online",function(e){
        document.querySelector("output").innerHTML = "online";
        startConn();
    });
    window.addEventListener("offline",function(e){
        document.querySelector("output").innerHTML = "offline";
        stopConn();
    });
</script>
<output></output>
</body>
</html>